{"componentChunkName":"component---src-templates-post-jsx","path":"/presigned-url-s3-upload-springboot/","result":{"data":{"site":{"siteMetadata":{"title":"RUN:DEVEL:RUN"}},"markdownRemark":{"id":"4471db36-49a1-59b4-bc79-1d3d0e9a1675","excerpt":"â˜€ï¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ OpenJDK 17.0.2   Gradle 8.0.2     Spring Boot 3.0.5 âœ‹ ë“¤ì–´ê°€ë©° ì´ë²ˆ í¬ìŠ¤íŒ… ì—ì„œëŠ” EC2ì— ì˜¬ë¼ê°„ SpringBoot ê¸°ë°˜ ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Presigned URLì„ ë°œê¸‰ë°›ëŠ” ê³¼ì •ì„ ì‘ì„±í•´ë³´ë ¤ê³  í•œë‹¤.\ní˜„ì¬ ì‘ì„±ì¤‘ì¸ Seriesì˜ ì²«ë²ˆì§¸ í¬ìŠ¤íŒ…ì€ EC2ì— S3 Bucket ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” â€¦","html":"<h2 id=\"ï¸-í…ŒìŠ¤íŠ¸-í™˜ê²½\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD\" aria-label=\"ï¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>â˜€ï¸ í…ŒìŠ¤íŠ¸ í™˜ê²½</h2>\n<blockquote>\n<ul>\n<li>OpenJDK 17.0.2  </li>\n<li>Gradle 8.0.2    </li>\n<li>Spring Boot 3.0.5</li>\n</ul>\n</blockquote>\n<h2 id=\"-ë“¤ì–´ê°€ë©°\" style=\"position:relative;\"><a href=\"#-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\" ë“¤ì–´ê°€ë©° permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>âœ‹ ë“¤ì–´ê°€ë©°</h2>\n<p>ì´ë²ˆ í¬ìŠ¤íŒ… ì—ì„œëŠ” EC2ì— ì˜¬ë¼ê°„ SpringBoot ê¸°ë°˜ ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Presigned URLì„ ë°œê¸‰ë°›ëŠ” ê³¼ì •ì„ ì‘ì„±í•´ë³´ë ¤ê³  í•œë‹¤.\ní˜„ì¬ ì‘ì„±ì¤‘ì¸ Seriesì˜ ì²«ë²ˆì§¸ í¬ìŠ¤íŒ…ì€ EC2ì— S3 Bucket ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê³¼ì •ì„ ì‘ì„±í–ˆì—ˆë‹¤.</p>\n<p>ì´ë¯¸ EC2ì— S3 Bucket ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í–ˆê¸° ë•Œë¬¸ì— ì´ ê¸€ì—ì„œëŠ” Credentials(Access key, Secret key)ì— ëŒ€í•œ ë‚´ìš©ì€ ì–¸ê¸‰í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<h2 id=\"-Presigned-URLì´ë€\" style=\"position:relative;\"><a href=\"#-Presigned-URL%EC%9D%B4%EB%9E%80\" aria-label=\" Presigned URLì´ë€ permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>â“ Presigned URLì´ë€?</h2>\n<blockquote>\n<p>â˜‘ï¸ Presigned URLì€ ëª¨ë‘ ìœ ì¶” í•  ìˆ˜ ìˆê² ì§€ë§Œ S3 Bucketì— íŒŒì¼ì„ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” ë¯¸ë¦¬ ì„œëª…ëœ URLìœ¼ë¡œ í•´ë‹¹ URLì„ í†µí•´ì„œë§Œ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p>\n</blockquote>\n<h2 id=\"ï¸-Presigned-URL-ë°œê¸‰ë°›ê¸°\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-Presigned-URL-%EB%B0%9C%EA%B8%89%EB%B0%9B%EA%B8%B0\" aria-label=\"ï¸ Presigned URL ë°œê¸‰ë°›ê¸° permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ› ï¸ Presigned URL ë°œê¸‰ë°›ê¸°</h2>\n<h4 id=\"buildgradle\" style=\"position:relative;\"><a href=\"#buildgradle\" aria-label=\"buildgradle permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>build.gradle</em></strong></h4>\n<p>ë¨¼ì € AWS SDKë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//  AWS</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'com.amazonaws:aws-java-sdk-s3:1.12.770'</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'com.amazonaws:aws-java-sdk-core:1.12.770'</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'com.amazonaws:aws-java-sdk-sts:1.12.770'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"config-íŒŒì¼-ìˆ˜ì •\" style=\"position:relative;\"><a href=\"#config-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"config íŒŒì¼ ìˆ˜ì • permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>config íŒŒì¼ ìˆ˜ì •</em></strong></h4>\n<p><code class=\"language-text\">application.properties</code> ë˜ëŠ” <code class=\"language-text\">application.yml</code> íŒŒì¼ì— S3 Bucket ì´ë¦„ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<ul>\n<li>\n<p>application.properties</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">cloud.aws.s3.bucket</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">S3_BUCKET_NAME</span></code></pre></div>\n</li>\n<li>\n<p>application.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span>\n <span class=\"token key atrule\">aws</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">s3</span><span class=\"token punctuation\">:</span>\n     <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span> S3_BUCKET_NAME</code></pre></div>\n</li>\n</ul>\n<h4 id=\"Presigned-URL-ë°œê¸‰ë°›ê¸°\" style=\"position:relative;\"><a href=\"#Presigned-URL-%EB%B0%9C%EA%B8%89%EB%B0%9B%EA%B8%B0\" aria-label=\"Presigned URL ë°œê¸‰ë°›ê¸° permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>Presigned URL ë°œê¸‰ë°›ê¸°</em></strong></h4>\n<ul>\n<li>\n<p>ì—…ë¡œë“œìš© Presigned URL ë°œê¸‰</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${cloud.aws.s3.bucket}\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> bucket<span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">AmazonS3</span> s3Client<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">String</span> filePath <span class=\"token operator\">=</span> <span class=\"token string\">\"upload/test.jpg\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì—…ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ</span>\n\n<span class=\"token comment\">// S3 Client ìƒì„±</span>\ns3Client <span class=\"token operator\">=</span> <span class=\"token class-name\">AmazonS3ClientBuilder</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">standard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">withRegion</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Regions</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AP_NORTHEAST_2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Region ì„¤ì •</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n\n<span class=\"token comment\">// Pre-Signed URL ë§Œë£Œ ì‹œê°„ ì„¤ì • (10ë¶„ í›„)</span>\n<span class=\"token class-name\">Date</span> expiration <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">long</span> expTimeMillis <span class=\"token operator\">=</span> expiration<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexpTimeMillis <span class=\"token operator\">+=</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MINUTES</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMillis</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexpiration<span class=\"token punctuation\">.</span><span class=\"token function\">setTime</span><span class=\"token punctuation\">(</span>expTimeMillis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Upload Pre-Signed URL Generate (PUT Method)</span>\n<span class=\"token class-name\">GeneratePresignedUrlRequest</span> generatePresignedUrlRequest <span class=\"token operator\">=</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">GeneratePresignedUrlRequest</span><span class=\"token punctuation\">(</span>bucket<span class=\"token punctuation\">,</span> filePath<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">withMethod</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PUT</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">withExpiration</span><span class=\"token punctuation\">(</span>expiration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">URL</span> url <span class=\"token operator\">=</span> s3Client<span class=\"token punctuation\">.</span><span class=\"token function\">generatePresignedUrl</span><span class=\"token punctuation\">(</span>generatePresignedUrlRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ë°œê¸‰ëœ ì—…ë¡œë“œìš© Pre-Signed URL</span>\n<span class=\"token class-name\">String</span> putPreSignedUrl <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>ë‹¤ìš´ë¡œë“œìš© Presigned URL ë°œê¸‰</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${cloud.aws.s3.bucket}\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> bucket<span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">AmazonS3</span> s3Client<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">String</span> filePath <span class=\"token operator\">=</span> <span class=\"token string\">\"upload/test.jpg\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ ê²½ë¡œt</span>\n\n<span class=\"token comment\">// S3 Client ìƒì„±</span>\ns3Client <span class=\"token operator\">=</span> <span class=\"token class-name\">AmazonS3ClientBuilder</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">standard</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">withRegion</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Regions</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AP_NORTHEAST_2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Region ì„¤ì •</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n\n<span class=\"token comment\">// Pre-Signed URL ë§Œë£Œ ì‹œê°„ (10ë¶„ í›„)</span>\n<span class=\"token class-name\">Date</span> expiration <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">long</span> expTimeMillis <span class=\"token operator\">=</span> expiration<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexpTimeMillis <span class=\"token operator\">+=</span> <span class=\"token class-name\">TimeUnit</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MINUTES</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMillis</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexpiration<span class=\"token punctuation\">.</span><span class=\"token function\">setTime</span><span class=\"token punctuation\">(</span>expTimeMillis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Download Pre-Signed URL Generate (GET Method)</span>\n<span class=\"token class-name\">GeneratePresignedUrlRequest</span> generatePresignedUrlRequest <span class=\"token operator\">=</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">GeneratePresignedUrlRequest</span><span class=\"token punctuation\">(</span>bucket<span class=\"token punctuation\">,</span> filePath<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">withMethod</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GET</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">withExpiration</span><span class=\"token punctuation\">(</span>expiration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">URL</span> url <span class=\"token operator\">=</span> s3Client<span class=\"token punctuation\">.</span><span class=\"token function\">generatePresignedUrl</span><span class=\"token punctuation\">(</span>generatePresignedUrlRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ë°œê¸‰ëœ ë‹¤ìš´ë¡œë“œìš© Pre-Signed URL</span>\n<span class=\"token class-name\">String</span> putPreSignedUrl <span class=\"token operator\">=</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>ğŸ‘‹</h2>\n<p>SpringBootì—ì„œ S3Clientë¥¼ ì‚¬ìš©í•´ì„œ Presigned URLì„ ë°œê¸‰ë°›ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ë‹¤.\në‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” Reactì—ì„œ ë°œê¸‰ë°›ì€ Presigned URLì„ ì‚¬ìš©í•´ì„œ íŒŒì¼ì„ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì‘ì„±í•´ë³´ë ¤ê³  í•œë‹¤.</p>","frontmatter":{"title":"SpringBootì—ì„œ S3 Presigned URL ë°œê¸‰ë°›ê¸°","date":"January 21, 2025","update":"January 21, 2025","tags":["aws","s3","presigned-url","springboot"],"series":"ğŸ“‚ AWS S3 Presigned URL","emoji":"ğŸ”"},"fields":{"slug":"/presigned-url-s3-upload-springboot/","readingTime":{"minutes":2.905}}},"seriesList":{"edges":[{"node":{"id":"1313a6f3-8071-5b0d-9359-3571116a409d","fields":{"slug":"/amazon-ec2-s3-bucket-link/"},"frontmatter":{"title":"Amazon EC2ì— S3 Bucket ì—°ê²° (AWS Console)","emoji":"ğŸ”—"}}},{"node":{"id":"4471db36-49a1-59b4-bc79-1d3d0e9a1675","fields":{"slug":"/presigned-url-s3-upload-springboot/"},"frontmatter":{"title":"SpringBootì—ì„œ S3 Presigned URL ë°œê¸‰ë°›ê¸°","emoji":"ğŸ”"}}},{"node":{"id":"bfa4f94a-4d3b-55ae-9a45-56374b1197c9","fields":{"slug":"/presigned-url-s3-upload-react/"},"frontmatter":{"title":"Reactì—ì„œ S3 Presigned URLì„ ì´ìš©í•œ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ","emoji":"â¬†ï¸"}}}]},"previous":{"fields":{"slug":"/spring-custom-annotation/"},"frontmatter":{"title":"Spring Custom Annotation ë§Œë“¤ê¸° (Feat. AOP)"}},"next":{"fields":{"slug":"/presigned-url-s3-upload-react/"},"frontmatter":{"title":"Reactì—ì„œ S3 Presigned URLì„ ì´ìš©í•œ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ","emoji":"â¬†ï¸"}}},"pageContext":{"id":"4471db36-49a1-59b4-bc79-1d3d0e9a1675","series":"ğŸ“‚ AWS S3 Presigned URL","previousPostId":"762a3754-020a-5d44-9fec-a26f4b486d26","nextPostId":"bfa4f94a-4d3b-55ae-9a45-56374b1197c9"}},"staticQueryHashes":[],"slicesMap":{}}