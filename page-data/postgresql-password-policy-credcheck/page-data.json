{"componentChunkName":"component---src-templates-post-jsx","path":"/postgresql-password-policy-credcheck/","result":{"data":{"site":{"siteMetadata":{"title":"RUN:DEVEL:RUN"}},"markdownRemark":{"id":"a44e344c-28ea-5001-beac-332c89338bfb","excerpt":"️🧪 테스트 환경 Amazon Linux 2023 (EC2) PostgreSQL 17.2 ✋ 들어가며 PostgreSQL을 사용하면서 패스워드 복잡도와 같은 정책들을 적용하게 되었는데 다양한 정책을 쉽게 적용할 수 있는\n를 활용하기로 했다. 'pass123' 같은 쉬운 패스워드를 설정하지 못하게 하려면  패키지를 추가로 설치해야하는데 이 글에서는 다루지 …","html":"<h2 id=\"️-테스트-환경\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD\" aria-label=\"️ 테스트 환경 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>️🧪 테스트 환경</h2>\n<blockquote>\n<ul>\n<li>Amazon Linux 2023 (EC2)</li>\n<li>PostgreSQL 17.2</li>\n</ul>\n</blockquote>\n<h2 id=\"-들어가며\" style=\"position:relative;\"><a href=\"#-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\" 들어가며 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>✋ 들어가며</h2>\n<p>PostgreSQL을 사용하면서 패스워드 복잡도와 같은 정책들을 적용하게 되었는데 다양한 정책을 쉽게 적용할 수 있는\n<code class=\"language-text\">CredCheck</code>를 활용하기로 했다. 'pass123' 같은 쉬운 패스워드를 설정하지 못하게 하려면 <code class=\"language-text\">cracklib</code> 패키지를 추가로 설치해야하는데 이 글에서는 다루지 않는다.</p>\n<h2 id=\"️-CredCheck-확장프로그램-설치하기\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-CredCheck-%ED%99%95%EC%9E%A5%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\" aria-label=\"️ CredCheck 확장프로그램 설치하기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>🏗️ CredCheck 확장프로그램 설치하기</h2>\n<h4 id=\"다운로드\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C\" aria-label=\"다운로드 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>다운로드</em></strong></h4>\n<p>만약 Git이 설치되어있지 않다면 <a href=\"https://github.com/HexaCluster/CredCheck\">CredCheck↗</a>에서 다운받아 아래 경로에 올려둔다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> <span class=\"token variable\"><span class=\"token variable\">`</span>PostgreSQL설치경로<span class=\"token variable\">`</span></span>/share/contrib\n<span class=\"token function\">git</span> clone https://github.com/MigOpsRepos/CredCheck</code></pre></div>\n<h4 id=\"설치-전-설정\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98-%EC%A0%84-%EC%84%A4%EC%A0%95\" aria-label=\"설치 전 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>설치 전 설정</em></strong></h4>\n<p>Makefile을 열어서 PG_CONFIG 경로를 지정한다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> <span class=\"token variable\"><span class=\"token variable\">`</span>PostgreSQL설치경로<span class=\"token variable\">`</span></span>/share/contrib/credcheck\n<span class=\"token function\">vi</span> Makefile</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">..</span>.\n<span class=\"token comment\">#PG_CONFIG = pg_config</span>\nPG_CONFIG <span class=\"token operator\">=</span> <span class=\"token variable\"><span class=\"token variable\">`</span>PostgreSQL설치경로<span class=\"token variable\">`</span></span>/bin/pg_config\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<h4 id=\"컴파일-및-설치\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EB%B0%8F-%EC%84%A4%EC%B9%98\" aria-label=\"컴파일 및 설치 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>컴파일 및 설치</em></strong></h4>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre></div>\n<h4 id=\"설치-후-설정\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98-%ED%9B%84-%EC%84%A4%EC%A0%95\" aria-label=\"설치 후 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>설치 후 설정</em></strong></h4>\n<p>PostgreSQL 데이터 경로에서 <code class=\"language-text\">postgresql.conf</code>를 아래와 같이 수정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">vi</span> <span class=\"token variable\"><span class=\"token variable\">`</span>PostgreSQL데이터경로<span class=\"token variable\">`</span></span>/postgresql.conf</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">..</span>.\n<span class=\"token comment\">#shared_preload_libraries = ''          # (change requires restart)</span>\nshared_preload_libraries <span class=\"token operator\">=</span> <span class=\"token string\">'$libdir/credcheck'</span>\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<h3 id=\"DB-설정\" style=\"position:relative;\"><a href=\"#DB-%EC%84%A4%EC%A0%95\" aria-label=\"DB 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>DB 설정</em></strong></h3>\n<p>데이터베이스에 접근 후 쿼리로 CredCheck 확장 프로그램을 활성화한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> extension credcheck<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> pg_extension<span class=\"token punctuation\">;</span></code></pre></div>\n<p>아래와 같이 CredCheck 확장 프로그램이 활성화된걸 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">✔\n  oid  <span class=\"token operator\">|</span>  extname  <span class=\"token operator\">|</span> extowner <span class=\"token operator\">|</span> extnamespace <span class=\"token operator\">|</span> extrelocatable <span class=\"token operator\">|</span> extversion <span class=\"token operator\">|</span> extconfig <span class=\"token operator\">|</span> extcondition\n-------+-----------+----------+--------------+----------------+------------+-----------+--------------\n <span class=\"token number\">22488</span> <span class=\"token operator\">|</span> credcheck <span class=\"token operator\">|</span>       <span class=\"token number\">10</span> <span class=\"token operator\">|</span>         <span class=\"token number\">2200</span> <span class=\"token operator\">|</span> f              <span class=\"token operator\">|</span> <span class=\"token number\">3.0</span>.0      <span class=\"token operator\">|</span>           <span class=\"token operator\">|</span>\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<h2 id=\"️-PostgreSQL-패스워드-정책-설정\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-PostgreSQL-%ED%8C%A8%EC%8A%A4%EC%9B%8C%EB%93%9C-%EC%A0%95%EC%B1%85-%EC%84%A4%EC%A0%95\" aria-label=\"️ PostgreSQL 패스워드 정책 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>🔐️ PostgreSQL 패스워드 정책 설정</h2>\n<p>설치가 완료되었으면 이제 아주 간단하게 패스워드 정책을 설정할 수 있다. 모든 작업은 데이터베이스에 접근해서 쿼리로 수행한다.</p>\n<h4 id=\"사용가능한-정책-목록\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EA%B0%80%EB%8A%A5%ED%95%9C-%EC%A0%95%EC%B1%85-%EB%AA%A9%EB%A1%9D\" aria-label=\"사용가능한 정책 목록 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>사용가능한 정책 목록</em></strong></h4>\n<table>\n<thead>\n<tr>\n<th>Check</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">username_min_length</code></td>\n<td>username</td>\n<td>사용자 이름의 최소 길이</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_min_special</code></td>\n<td>username</td>\n<td>최소 특수 문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_min_digit</code></td>\n<td>username</td>\n<td>최소 숫자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_min_upper</code></td>\n<td>username</td>\n<td>최소 대문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_min_lower</code></td>\n<td>username</td>\n<td>최소 소문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_min_repeat</code></td>\n<td>username</td>\n<td>문자가 반복될 수 있는 최대 횟수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_contain_password</code></td>\n<td>username</td>\n<td>사용자 이름에 비밀번호가 포함되어서는 안 됨</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_contain</code></td>\n<td>username</td>\n<td>사용자 이름에 다음 문자 중 하나가 포함되어야 함</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_not_contain</code></td>\n<td>username</td>\n<td>사용자 이름에 다음 문자가 포함되어서는 안 됨</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">username_ignore_case</code></td>\n<td>username</td>\n<td>위의 검사를 수행할 때 대소문자를 무시함</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_length</code></td>\n<td>password</td>\n<td>비밀번호의 최소 길이</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_special</code></td>\n<td>password</td>\n<td>최소 특수 문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_digit</code></td>\n<td>password</td>\n<td>비밀번호의 최소 숫자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_upper</code></td>\n<td>password</td>\n<td>최소 대문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_lower</code></td>\n<td>password</td>\n<td>최소 소문자 수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_min_repeat</code></td>\n<td>password</td>\n<td>문자가 반복될 수 있는 최대 횟수</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_contain_username</code></td>\n<td>password</td>\n<td>비밀번호에 사용자 이름이 포함되어서는 안 됨</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_contain</code></td>\n<td>password</td>\n<td>비밀번호에 다음 문자가 포함되어야 함</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_not_contain</code></td>\n<td>password</td>\n<td>비밀번호에 다음 문자가 포함되어서는 안 됨</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_ignore_case</code></td>\n<td>password</td>\n<td>위의 검사를 수행할 때 대소문자를 무시함</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_valid_until</code></td>\n<td>password</td>\n<td>최소 일수와 함께 CREATE ROLE 문에서 VALID UNTIL 절 사용 강제화</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password_valid_max</code></td>\n<td>password</td>\n<td>최대 일수와 함께 CREATE ROLE 문에서 VALID UNTIL 절 사용 강제화</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"정책-적용-방법\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%B1%85-%EC%A0%81%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\"정책 적용 방법 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>정책 적용 방법</em></strong></h4>\n<p><code class=\"language-text\">ALTER SYSTEM SET</code> 구문을 이용해서 위 정책들을 하나씩 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_min_length <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 비밀번호의 최소 길이</span>\n<span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_min_special <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 특수문자 포함</span>\n<span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_min_digit <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 숫자 포함</span>\n<span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_min_upper <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 대문자 포함</span>\n<span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_min_lower <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 소문자 포함</span>\n<span class=\"token keyword\">ALTER</span> SYSTEM <span class=\"token keyword\">SET</span> credcheck<span class=\"token punctuation\">.</span>password_contain_username  <span class=\"token operator\">=</span> <span class=\"token keyword\">on</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 사용자명 포함 불가</span>\n\n<span class=\"token keyword\">SELECT</span> pg_reload_conf<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>설정된 정책을 확인하기 위해서는 <code class=\"language-text\">SHOW</code> 구문을 사용해서 출력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> credcheck<span class=\"token punctuation\">.</span>password_min_length<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">✔\n credcheck.password_min_length\n-------------------------------\n <span class=\"token number\">8</span></code></pre></div>\n<h4 id=\"테스트\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"테스트 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>테스트</em></strong></h4>\n<p>위 설정이 모두 끝났다면 실제로 User를 생성해보면 정상적으로 설정되었는지 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">USER</span> aa <span class=\"token keyword\">WITH</span> PASSWORD <span class=\"token string\">'aaa'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>설정하려고하는 패스워드의 길이가 8자리가 안되기 떄문에 어림없다는 메시지와 함께 정상 설정 되었음을 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">```sql\n✔\nERROR:  password length should match the configured credcheck.password_min_length <span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"-마치며\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\" 마치며 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>👋 마치며</h2>\n<p>PostgreSQL에서 안전한 비밀번호 관리 절차와 작성 규칙을 수립하기 위해서 <code class=\"language-text\">CredCheck</code>를 사용해봤는데 간단하고 유용한 것 같다.</p>","frontmatter":{"title":"PostgreSQL 패스워드 정책 설정 (CredCheck)","date":"March 12, 2025","update":"March 12, 2025","tags":["postgresql","ec2"],"series":null,"emoji":"📃"},"fields":{"slug":"/postgresql-password-policy-credcheck/","readingTime":{"minutes":5.815}}},"seriesList":{"edges":[{"node":{"id":"8b11ff3d-4df1-5a62-a319-1fb705954eea","fields":{"slug":"/intellij-vo-mybatis-xml/"},"frontmatter":{"title":"VO 및 Mybatis XML 자동 생성하기 (with. IntelliJ)","emoji":"🚘"}}},{"node":{"id":"350d0abc-ac8e-5c73-9eb9-5ae24239f4f3","fields":{"slug":"/linux-swap-memory/"},"frontmatter":{"title":"리눅스 Swap memory 할당/해제","emoji":"💿"}}},{"node":{"id":"ae57999d-3974-5c6f-a7a3-54d1240ed0ff","fields":{"slug":"/amazon-linux-nexus-install/"},"frontmatter":{"title":"Amazon Linux에 Nexus 설치하기","emoji":"🔗"}}},{"node":{"id":"c1cbae97-f2ed-581c-a487-b1ff3a7d5d99","fields":{"slug":"/nexus-connect-aws-s3/"},"frontmatter":{"title":"Nexus에 AWS S3 연결하기 (Blob Stores)","emoji":"🪣"}}},{"node":{"id":"0a46576f-f124-5929-b47b-138021388955","fields":{"slug":"/amazon-linux-sonarqube-install/"},"frontmatter":{"title":"Amazon Linux SonarQube 설치","emoji":"🔎"}}},{"node":{"id":"1e34269e-a65f-5c56-8e67-08dab8639cf7","fields":{"slug":"/docker-root-directory-change/"},"frontmatter":{"title":"Docker Root Directory 변경","emoji":"🐳"}}},{"node":{"id":"62d9ae8d-b558-5e49-bd31-d837a51ed32d","fields":{"slug":"/amazon-linux-jenkins-install/"},"frontmatter":{"title":"Amazon Linux에 Jenkins 설치하기","emoji":"🏗️"}}},{"node":{"id":"eac06354-a592-50dc-91c0-0214612fe572","fields":{"slug":"/jenkins-agent-node-ssh/"},"frontmatter":{"title":"Jenkins Agent Node 설정하기","emoji":"🤖"}}},{"node":{"id":"d1346f25-004a-5f5e-9c83-45cbabaa9ac4","fields":{"slug":"/amazon-linux-postgresql-17-install/"},"frontmatter":{"title":"Amazon Linux에 PostgreSQL 수동 설치","emoji":"🗄️"}}},{"node":{"id":"03c4c422-8846-5a0a-be83-2db3027a31cc","fields":{"slug":"/postgresql-session-kill/"},"frontmatter":{"title":"PostgreSQL 세션 정보 확인 및 종료","emoji":"💣"}}},{"node":{"id":"2d70c9b1-2a23-5034-b5d2-34bb500fc776","fields":{"slug":"/react-error-slider-cannot-be-used-as-a-jsx-component/"},"frontmatter":{"title":"ERROR. 'Slider' cannot be used as a JSX component.","emoji":"️🌋"}}},{"node":{"id":"762a3754-020a-5d44-9fec-a26f4b486d26","fields":{"slug":"/spring-custom-annotation/"},"frontmatter":{"title":"Spring Custom Annotation 만들기 (Feat. AOP)","emoji":"🌱"}}},{"node":{"id":"f87367dc-4673-573b-b2c9-571fdd990f43","fields":{"slug":"/amazon-ec2-ebs-encrypt/"},"frontmatter":{"title":"사용중인 Amazon EBS 암호화하기 (EC2에 연결된 상태)","emoji":"🔒"}}},{"node":{"id":"d56c011b-b66c-541b-b851-7423ef84c8cb","fields":{"slug":"/gitops-workflow/"},"frontmatter":{"title":"GitOps Workflow에 대한 나의 경험","emoji":"🏢"}}},{"node":{"id":"b7408a5d-8784-50d0-aa2e-f343a7372fc4","fields":{"slug":"/amazon-linux-rhel-ssh-port/"},"frontmatter":{"title":"리눅스 SSH 포트 변경 (Amazon Linux, RHEL)","emoji":"🔐"}}},{"node":{"id":"a44e344c-28ea-5001-beac-332c89338bfb","fields":{"slug":"/postgresql-password-policy-credcheck/"},"frontmatter":{"title":"PostgreSQL 패스워드 정책 설정 (CredCheck)","emoji":"📃"}}},{"node":{"id":"5242d0e2-3ef1-5e80-8890-8f540e9b83dc","fields":{"slug":"/spring-get-api-list/"},"frontmatter":{"title":"Spring Annotation 값 읽기 (API 전체 목록 조회)","emoji":"📖"}}},{"node":{"id":"084abfc3-aba6-5288-aa1f-9ea73b5c3159","fields":{"slug":"/spring-jwt-aop-log-null-error/"},"frontmatter":{"title":"Spring AOP + JWT logger is null 수정","emoji":"🧨"}}}]},"previous":{"fields":{"slug":"/amazon-linux-rhel-ssh-port/"},"frontmatter":{"title":"리눅스 SSH 포트 변경 (Amazon Linux, RHEL)"}},"next":{"fields":{"slug":"/spring-get-api-list/"},"frontmatter":{"title":"Spring Annotation 값 읽기 (API 전체 목록 조회)","emoji":"📖"}}},"pageContext":{"id":"a44e344c-28ea-5001-beac-332c89338bfb","series":null,"previousPostId":"b7408a5d-8784-50d0-aa2e-f343a7372fc4","nextPostId":"5242d0e2-3ef1-5e80-8890-8f540e9b83dc"}},"staticQueryHashes":[],"slicesMap":{}}