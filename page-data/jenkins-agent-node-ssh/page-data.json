{"componentChunkName":"component---src-templates-post-jsx","path":"/jenkins-agent-node-ssh/","result":{"data":{"site":{"siteMetadata":{"title":"RUN:DEVEL:RUN"}},"markdownRemark":{"id":"eac06354-a592-50dc-91c0-0214612fe572","excerpt":"☀️ 테스트 환경 Jenkins 2.387.3 Amazon Linux 2023 (EC2)  ✋ 들어가며 젠킨스가 설치되어있는 서버와 실제로 어플리케이션이 배포될 대상 서버가 다른 경우에 SSH Agent 를 이용한 원격 배포 방법도 있겠지만 이 글에서는 Jenkins Node Agent를 활용한 방법을 다뤄보려고한다. 🔑 SSH Key 생성 및 복사 SSH…","html":"<h2 id=\"️-테스트-환경\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD\" aria-label=\"️ 테스트 환경 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>☀️ 테스트 환경</h2>\n<blockquote>\n<ul>\n<li>Jenkins 2.387.3</li>\n<li>Amazon Linux 2023 (EC2) </li>\n</ul>\n</blockquote>\n<h2 id=\"-들어가며\" style=\"position:relative;\"><a href=\"#-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\" 들어가며 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>✋ 들어가며</h2>\n<p>젠킨스가 설치되어있는 서버와 실제로 어플리케이션이 배포될 대상 서버가 다른 경우에 <em>SSH Agent</em> 를 이용한 원격 배포 방법도 있겠지만 이 글에서는 Jenkins Node Agent를 활용한 방법을 다뤄보려고한다.</p>\n<h2 id=\"-SSH-Key-생성-및-복사\" style=\"position:relative;\"><a href=\"#-SSH-Key-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%B3%B5%EC%82%AC\" aria-label=\" SSH Key 생성 및 복사 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>🔑 SSH Key 생성 및 복사</h2>\n<p>SSH를 활용해서 Agent를 시작하는 방식을 선택하려고 하기 떄문에 Agent가 동작할 서버에서 SSH Key를 생성한다. </p>\n<h4 id=\"ssh-keygen\" style=\"position:relative;\"><a href=\"#ssh-keygen\" aria-label=\"ssh keygen permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>ssh-keygen</em></strong></h4>\n<ol>\n<li>\n<p>놀랍게도 Enter의 입력만으로 SSH Key가 생성된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> ~/.ssh\nssh-keygen <span class=\"token parameter variable\">-t</span> rsa</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">✔\nYour identification has been saved <span class=\"token keyword\">in</span> /home/rundevelrun/.ssh/id_rsa.\nYour public key has been saved <span class=\"token keyword\">in</span> /home/rundevelrun/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:~~~\nThe key's randomart image is:\n+---<span class=\"token punctuation\">[</span>RSA <span class=\"token number\">2048</span><span class=\"token punctuation\">]</span>----+\n<span class=\"token operator\">|</span> <span class=\"token punctuation\">..</span>.             <span class=\"token operator\">|</span>\n+----<span class=\"token punctuation\">[</span>SHA256<span class=\"token punctuation\">]</span>-----+</code></pre></div>\n</li>\n<li>\n<p>~/.ssh 경로에 아래와 같은 파일들이 생성되었다면 성공이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-al</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">✔\n-rw------- <span class=\"token number\">1</span> rundevelrun rundevelrun  <span class=\"token number\">401</span> Aug  <span class=\"token number\">5</span> 05:45 authorized_keys\n-rw------- <span class=\"token number\">1</span> rundevelrun rundevelrun <span class=\"token number\">1679</span> Dec <span class=\"token number\">12</span> 02:22 id_rsa\n-rw-r--r-- <span class=\"token number\">1</span> rundevelrun rundevelrun  <span class=\"token number\">438</span> Dec <span class=\"token number\">12</span> 02:22 id_rsa.pub</code></pre></div>\n</li>\n</ol>\n<h4 id=\"SSH-Key-확인-idssh-key_1\" style=\"position:relative;\"><a href=\"#SSH-Key-%ED%99%95%EC%9D%B8-idssh-key_1\" aria-label=\"SSH Key 확인 idssh key_1 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>SSH Key 확인</em></strong> {id=\"ssh-key_1\"}</h4>\n<p><em>id_rsa</em> 파일을 열어서 내용을 확인하고 Jenkins 설정에 사용해야하기 때문에 복사해둔다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">cat</span> id_rsa</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">✔\n-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBA<span class=\"token punctuation\">..</span>.\n\n\n-----END RSA PRIVATE KEY-----</code></pre></div>\n<h2 id=\"-Jenkins-Credentials-설정\" style=\"position:relative;\"><a href=\"#-Jenkins-Credentials-%EC%84%A4%EC%A0%95\" aria-label=\" Jenkins Credentials 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>🔐 Jenkins Credentials 설정</h2>\n<h4 id=\"등록-화면-접속\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EB%A1%9D-%ED%99%94%EB%A9%B4-%EC%A0%91%EC%86%8D\" aria-label=\"등록 화면 접속 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>등록 화면 접속</em></strong></h4>\n<p><em>Dashboard ➡ Jenkins 관리 ➡ Credentials  ➡  System ➡ Global credentials (unrestricted) ➡ Add Credentials</em></p>\n<h4 id=\"Credentials-생성\" style=\"position:relative;\"><a href=\"#Credentials-%EC%83%9D%EC%84%B1\" aria-label=\"Credentials 생성 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>Credentials 생성</em></strong></h4>\n<ul>\n<li>Kind : SSH Username with private key</li>\n<li>Scope : Global</li>\n<li>ID : 젠킨스에서 사용하는 중복되지 않는 Credential ID</li>\n<li>Description : 설명</li>\n<li>Username : SSH Key를 생성한 계정</li>\n<li>Private Key : <code class=\"language-text\">Enter directly</code>를 체크하고 위에서 복사한 SSH Key를 입력</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/46c089ac5a570685ccacb6bcb9e2cb71/a4588/20241212_144903.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 94.11764705882352%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAABJ0AAASdAHeZh94AAABPUlEQVR42pWUW3KEIBRE2cio+ARFeQiOo6NJKslvNpBlzFKy4bSSVM1PMlh1Pm6VNNzbNBKlrLXjNK0oTicaRWk4RCnn6bq+KOpfeAikbY21F4iNOde1rCrBWMt5FwLJssq5Ccc2jcJGKITQ0IcAMdN6wMD3/R8QWzsJYXzDnpCef8TDMKNh+FSWTThYv4nbFgPro3AuNzF8Rs8o7q7qMXnON/E8v8BwnL+3oALBvZI0LVnVMCY4b7EfchPHWSAkY9It7zUXkAXGE8v8SkJTJqT1x+6hezAqfPZ3iYIkSV7XXW8nu9P3F2PGv9D6PAxXeLQsr7AJ4gIJWde3cVzxoe9HpYZ/kBIRtAChJJSWec4oLfw8IT6h2R0YlmROOzwGWH8I2ERK+ySeP4o9bodDIj9v7vYV0zI6+BuJovQbT3e36KwIUhYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='20241212 144903' title='' src='/static/46c089ac5a570685ccacb6bcb9e2cb71/ca1dc/20241212_144903.png' srcset='/static/46c089ac5a570685ccacb6bcb9e2cb71/e7570/20241212_144903.png 170w,\n/static/46c089ac5a570685ccacb6bcb9e2cb71/f46e7/20241212_144903.png 340w,\n/static/46c089ac5a570685ccacb6bcb9e2cb71/ca1dc/20241212_144903.png 680w,\n/static/46c089ac5a570685ccacb6bcb9e2cb71/02d09/20241212_144903.png 1020w,\n/static/46c089ac5a570685ccacb6bcb9e2cb71/a4588/20241212_144903.png 1254w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2 id=\"-Jenkins-Node-설정\" style=\"position:relative;\"><a href=\"#-Jenkins-Node-%EC%84%A4%EC%A0%95\" aria-label=\" Jenkins Node 설정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>💼 Jenkins Node 설정</h2>\n<h4 id=\"등록-화면-접속-1\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EB%A1%9D-%ED%99%94%EB%A9%B4-%EC%A0%91%EC%86%8D-1\" aria-label=\"등록 화면 접속 1 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>등록 화면 접속</em></strong></h4>\n<p><em>Dashboard ➡ Jenkins 관리 ➡ 노드 관리  ➡  New Node</em></p>\n<p>노드명 입력 및 Permanent Agent에 체크하고 다음으로 넘어간다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 673px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/612e515da307cb6f9c6041c6b9d716aa/60e44/20241212_150059.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 72.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAABJ0AAASdAHeZh94AAABWElEQVR42pWTTU7DMBCFc4zSEDv/TZz4r06bKlQoilq1CLFAVVX1AmxYcQVOwDEQR0IchtemlIqVkT5Z43HeeJ7tOLPZfLvdt+1ys9nN563rUt+PKY1scKJoVJYqSfI85xg9LyAktMRJU6b1NAhSTCiNwzC1BA06RaGWy/vV6qHr1kDrmQW1MQ1jEm1nQhgpK4Agz4UNUMZx5hRMlIUcDK5dlwyH5H+eWfdY3e1qM53WN01zy5hAFn7+EATJZXA6bRqzUam1qrSeACmNEGMERSHhgnMNkOnzAFeDEXd02Jl4fhyNlKrOHwGIEfcZLJ3FGNEa6vabOyiA6zWm7gtDxjnKa3XsBfpjuapv6qeo+hVHYcpLiXoAx4i1LCt7b2erRw4+kQEnz2ibeoGPiedfnpDV8+Tb58XH1+L9c/Ly5g2uqJ9YPuyDOG1W46dXwNZ74hJq/VdQGn0D1gGHRUOgk6oAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='20241212 150059' title='' src='/static/612e515da307cb6f9c6041c6b9d716aa/60e44/20241212_150059.png' srcset='/static/612e515da307cb6f9c6041c6b9d716aa/e7570/20241212_150059.png 170w,\n/static/612e515da307cb6f9c6041c6b9d716aa/f46e7/20241212_150059.png 340w,\n/static/612e515da307cb6f9c6041c6b9d716aa/60e44/20241212_150059.png 673w' sizes='(max-width: 673px) 100vw, 673px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h4 id=\"Node-생성\" style=\"position:relative;\"><a href=\"#Node-%EC%83%9D%EC%84%B1\" aria-label=\"Node 생성 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>Node 생성</em></strong></h4>\n<ul>\n<li>Name : 노드명</li>\n<li>Description : 설명</li>\n<li>Number of executors : 노드에서 수행할 수 있는 동시 빌드 수</li>\n<li>Remote root directory : Agent가 사용할 디렉토리</li>\n<li>Labels : Jenkinsfile에서 사용할 Label</li>\n<li>\n<p>Launch method : label이 일치할때만 빌드가 실핼되도록 <code class=\"language-text\">Only build jobs...</code> 선택</p>\n<ul>\n<li>Host : 원격지 IP</li>\n<li>Credentials : 앞에서 등록한 Credential 선택</li>\n<li>Host Key Verification Strategy : 호스트 키 검증 전략 (검증하지 않는 전략을 사용하도록 설정)</li>\n</ul>\n</li>\n<li>Availability : Agent를 온라인 상태로 유지하도록 <code class=\"language-text\">Keep this agent online as...</code> 선택</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/7d73db60b8980d301732cbcbe8009f37/c3cd5/20241212_153946.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 82.3529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAABYlAAAWJQFJUiTwAAABE0lEQVR42o2S6Y6EIBCEeY85VDxAOQTFi8nM7vs/1RY4O9nsDyX5Qjwoquhu0rZaCNN1PR6wJgJJWTJi7eT917o+8alpOsZEIpQ2RKlBKStEcGZMpvMWj+OKGJwr6HcSksfYWo/GTBB/wClNI455x+77cZ4f0O9YOyML9McgXVlyiB2qhfXfv2OQvKo4wdWhxAvncietYIpSRnCAc9vufGr4x1mHgqG32/aS0sbupfYJTkEcnR84rK67T/JT2vZXbIzDnEgZWpdlZZ5XKWBniL0sT++/wTT5OHDnaO2QlBRFjQvcbsXlkl2v+f1OE8kySoZhhuE+W0iOYpyOV5wwGYYEdR6G1ZgZWLsIYTG3p2BbXXc/16OdB7+lHRQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='20241212 153946' title='' src='/static/7d73db60b8980d301732cbcbe8009f37/ca1dc/20241212_153946.png' srcset='/static/7d73db60b8980d301732cbcbe8009f37/e7570/20241212_153946.png 170w,\n/static/7d73db60b8980d301732cbcbe8009f37/f46e7/20241212_153946.png 340w,\n/static/7d73db60b8980d301732cbcbe8009f37/ca1dc/20241212_153946.png 680w,\n/static/7d73db60b8980d301732cbcbe8009f37/02d09/20241212_153946.png 1020w,\n/static/7d73db60b8980d301732cbcbe8009f37/9d567/20241212_153946.png 1360w,\n/static/7d73db60b8980d301732cbcbe8009f37/c3cd5/20241212_153946.png 1441w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2 id=\"-사용-예시-Jenkinsfile-Pipeline\" style=\"position:relative;\"><a href=\"#-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C-Jenkinsfile-Pipeline\" aria-label=\" 사용 예시 Jenkinsfile Pipeline permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>📌 사용 예시 (Jenkinsfile Pipeline)</h2>\n<p>Agent 설정을 마쳤으니 마지막으로 Jenkins Pipeline에서 어떻게 Agent를 사용하는지 확인할 차례다.</p>\n<h4 id=\"Pipeline-전체에-적용\" style=\"position:relative;\"><a href=\"#Pipeline-%EC%A0%84%EC%B2%B4%EC%97%90-%EC%A0%81%EC%9A%A9\" aria-label=\"Pipeline 전체에 적용 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>Pipeline 전체에 적용</em></strong></h4>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">pipeline <span class=\"token punctuation\">{</span>\n    agent <span class=\"token punctuation\">{</span>\n        label <span class=\"token string\">'rundevelrun_node'</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"특정-stage에만-적용\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%A0%95-stage%EC%97%90%EB%A7%8C-%EC%A0%81%EC%9A%A9\" aria-label=\"특정 stage에만 적용 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a><strong><em>특정 stage에만 적용</em></strong></h4>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">pipeline <span class=\"token punctuation\">{</span>\n    agent any\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rundevelrun stage'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            agent <span class=\"token punctuation\">{</span>\n                label <span class=\"token string\">'rundevelrun_node'</span>\n            <span class=\"token punctuation\">}</span>\n            steps <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// rundevelrun_node agent가 수행할 작업</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"-마치며\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\" 마치며 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>👋 마치며</h2>\n<p>Jenkins Node Agent를 사용해서 원격 서버에 배포하는 방식을 기록해봤는데 곧  <em>SSH Agent</em> 를 활용하는 방법도 기록해야겠다.</p>","frontmatter":{"title":"Jenkins Agent Node 설정하기","date":"January 20, 2025","update":"January 20, 2025","tags":["jenkins"],"series":null,"emoji":"🤖"},"fields":{"slug":"/jenkins-agent-node-ssh/","readingTime":{"minutes":3.765}}},"seriesList":{"edges":[{"node":{"id":"8b11ff3d-4df1-5a62-a319-1fb705954eea","fields":{"slug":"/intellij-vo-mybatis-xml/"},"frontmatter":{"title":"VO 및 Mybatis XML 자동 생성하기 (with. IntelliJ)","emoji":"🚘"}}},{"node":{"id":"350d0abc-ac8e-5c73-9eb9-5ae24239f4f3","fields":{"slug":"/linux-swap-memory/"},"frontmatter":{"title":"리눅스 Swap memory 할당/해제","emoji":"💿"}}},{"node":{"id":"ae57999d-3974-5c6f-a7a3-54d1240ed0ff","fields":{"slug":"/amazon-linux-nexus-install/"},"frontmatter":{"title":"Amazon Linux에 Nexus 설치하기","emoji":"🔗"}}},{"node":{"id":"c1cbae97-f2ed-581c-a487-b1ff3a7d5d99","fields":{"slug":"/nexus-connect-aws-s3/"},"frontmatter":{"title":"Nexus에 AWS S3 연결하기 (Blob Stores)","emoji":"🪣"}}},{"node":{"id":"0a46576f-f124-5929-b47b-138021388955","fields":{"slug":"/amazon-linux-sonarqube-install/"},"frontmatter":{"title":"Amazon Linux SonarQube 설치","emoji":"🔎"}}},{"node":{"id":"1e34269e-a65f-5c56-8e67-08dab8639cf7","fields":{"slug":"/docker-root-directory-change/"},"frontmatter":{"title":"Docker Root Directory 변경","emoji":"🐳"}}},{"node":{"id":"62d9ae8d-b558-5e49-bd31-d837a51ed32d","fields":{"slug":"/amazon-linux-jenkins-install/"},"frontmatter":{"title":"Amazon Linux에 Jenkins 설치하기","emoji":"🏗️"}}},{"node":{"id":"eac06354-a592-50dc-91c0-0214612fe572","fields":{"slug":"/jenkins-agent-node-ssh/"},"frontmatter":{"title":"Jenkins Agent Node 설정하기","emoji":"🤖"}}},{"node":{"id":"d1346f25-004a-5f5e-9c83-45cbabaa9ac4","fields":{"slug":"/amazon-linux-postgresql-17-install/"},"frontmatter":{"title":"Amazon Linux에 PostgreSQL 수동 설치","emoji":"🗄️"}}},{"node":{"id":"03c4c422-8846-5a0a-be83-2db3027a31cc","fields":{"slug":"/postgresql-session-kill/"},"frontmatter":{"title":"PostgreSQL 세션 정보 확인 및 종료","emoji":"💣"}}},{"node":{"id":"2d70c9b1-2a23-5034-b5d2-34bb500fc776","fields":{"slug":"/react-error-slider-cannot-be-used-as-a-jsx-component/"},"frontmatter":{"title":"ERROR. 'Slider' cannot be used as a JSX component.","emoji":"️🌋"}}},{"node":{"id":"762a3754-020a-5d44-9fec-a26f4b486d26","fields":{"slug":"/spring-custom-annotation/"},"frontmatter":{"title":"Spring Custom Annotation 만들기 (Feat. AOP)","emoji":"🌱"}}},{"node":{"id":"f87367dc-4673-573b-b2c9-571fdd990f43","fields":{"slug":"/amazon-ec2-ebs-encrypt/"},"frontmatter":{"title":"사용중인 Amazon EBS 암호화하기 (EC2에 연결된 상태)","emoji":"🔒"}}},{"node":{"id":"d56c011b-b66c-541b-b851-7423ef84c8cb","fields":{"slug":"/gitops-workflow/"},"frontmatter":{"title":"GitOps Workflow에 대한 나의 경험","emoji":"🏢"}}}]},"previous":{"fields":{"slug":"/amazon-linux-jenkins-install/"},"frontmatter":{"title":"Amazon Linux에 Jenkins 설치하기"}},"next":{"fields":{"slug":"/amazon-linux-postgresql-17-install/"},"frontmatter":{"title":"Amazon Linux에 PostgreSQL 수동 설치","emoji":"🗄️"}}},"pageContext":{"id":"eac06354-a592-50dc-91c0-0214612fe572","series":null,"previousPostId":"62d9ae8d-b558-5e49-bd31-d837a51ed32d","nextPostId":"d1346f25-004a-5f5e-9c83-45cbabaa9ac4"}},"staticQueryHashes":[],"slicesMap":{}}